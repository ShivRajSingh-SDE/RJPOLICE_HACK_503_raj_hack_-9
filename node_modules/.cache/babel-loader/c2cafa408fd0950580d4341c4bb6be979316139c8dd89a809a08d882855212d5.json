{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shivr\\\\Downloads\\\\final\\\\newchatbot\\\\src\\\\Components\\\\Header.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { AiFillRobot, AiOutlineSlack } from \"react-icons/ai\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Header = () => {\n  _s();\n  const chatboxRef = useRef(null);\n  const [userMessage, setUserMessage] = useState(\"\");\n  const [chatMessages, setChatMessages] = useState([]);\n  const [rotationAngle, setRotationAngle] = useState(0); // Rotation state\n\n  const API_KEY = \"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\"; // Paste your API key here\n\n  const createChatLi = (message, className) => {\n    const chatLi = /*#__PURE__*/_jsxDEV(\"li\", {\n      className: `chat ${className}`,\n      children: className === \"outgoing\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-[30px] p-2\",\n          children: /*#__PURE__*/_jsxDEV(AiFillRobot, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, chatMessages.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this);\n    return chatLi;\n  };\n  const generateResponse = async () => {\n    const API_URL = \"https://api.openai.com/v1/chat/completions\";\n    try {\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${API_KEY}`\n        },\n        body: JSON.stringify({\n          model: \"gpt-3.5-turbo\",\n          messages: [{\n            role: \"user\",\n            content: userMessage\n          }]\n        })\n      };\n      const response = await fetch(API_URL, requestOptions);\n      const data = await response.json();\n      const responseMessage = data.choices[0].message.content.trim();\n      setChatMessages([...chatMessages, userMessage, responseMessage]);\n      setUserMessage(\"\");\n    } catch (error) {\n      console.error(\"Error generating response:\", error);\n    }\n  };\n  const handleChat = () => {\n    if (userMessage.trim() === \"\") return;\n    setChatMessages([...chatMessages, userMessage]);\n    setUserMessage(\"\");\n    setTimeout(() => {\n      setChatMessages(prevMessages => [...prevMessages, \"Thinking...\"]);\n      chatboxRef.current.scrollTop = chatboxRef.current.scrollHeight;\n      generateResponse();\n    }, 600);\n  };\n  const handleChange = event => {\n    setUserMessage(event.target.value);\n  };\n  const handleSendMessage = () => {\n    handleChat();\n  };\n  const handleIconClick = () => {\n    // Rotate the icon by 180 degrees on each click\n    setRotationAngle(prevAngle => prevAngle + 180);\n  };\n  useEffect(() => {\n    chatboxRef.current.scrollTop = chatboxRef.current.scrollHeight;\n  }, [chatMessages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" justify-center drop-shadow-2xl shadow-2xl items-center h-screen flex flex-col\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" w-[90%] md:w-[50%] bg-[#32ca65a6]     rounded-3xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"text md:text-[50px] text-[35px] rounded-t-3xl bg-[#ffffff5b] text-[white]  font-bold\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Coal\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-[green]\",\n            children: \"Rule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this), \"Advisor\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"chatbox bg-[#ffffffa8] p-5\",\n        ref: chatboxRef,\n        children: chatMessages.map((message, index) => {\n          if (message === \"Thinking...\") {\n            return createChatLi(message, \"thinking\");\n          }\n          return createChatLi(message, index % 2 === 0 ? \"outgoing\" : \"incoming\");\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" flex items-center p-2 bg-[#61c48257] rounded-b-2xl justify-around\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"w-[90%]  p-1    rounded-2xl justify-center items-center\",\n          placeholder: \"Enter a message...\",\n          spellCheck: \"false\",\n          required: true,\n          value: userMessage,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"send-btn\",\n          className: \"material-symbols-rounded\",\n          onClick: handleIconClick,\n          children: /*#__PURE__*/_jsxDEV(AiOutlineSlack, {\n            onClick: handleSendMessage,\n            className: `text-[30px] transform rotate-${rotationAngle}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"MAVRO8gNlAnh+jKrMkA4Yx9HE8w=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useEffect","useRef","AiFillRobot","AiOutlineSlack","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","chatboxRef","userMessage","setUserMessage","chatMessages","setChatMessages","rotationAngle","setRotationAngle","API_KEY","createChatLi","message","className","chatLi","children","fileName","_jsxFileName","lineNumber","columnNumber","length","generateResponse","API_URL","requestOptions","method","headers","Authorization","body","JSON","stringify","model","messages","role","content","response","fetch","data","json","responseMessage","choices","trim","error","console","handleChat","setTimeout","prevMessages","current","scrollTop","scrollHeight","handleChange","event","target","value","handleSendMessage","handleIconClick","prevAngle","ref","map","index","placeholder","spellCheck","required","onChange","id","onClick","_c","$RefreshReg$"],"sources":["C:/Users/shivr/Downloads/final/newchatbot/src/Components/Header.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { AiFillRobot, AiOutlineSlack } from \"react-icons/ai\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst Header = () => {\r\n  const chatboxRef = useRef(null);\r\n  const [userMessage, setUserMessage] = useState(\"\");\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n  const [rotationAngle, setRotationAngle] = useState(0); // Rotation state\r\n\r\n  const API_KEY = \"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\"; // Paste your API key here\r\n\r\n  const createChatLi = (message, className) => {\r\n    const chatLi = (\r\n      <li className={`chat ${className}`} key={chatMessages.length}>\r\n        {className === \"outgoing\" ? (\r\n          <p>{message}</p>\r\n        ) : (\r\n          <>\r\n            <span className=\"text-[30px] p-2\">\r\n              <AiFillRobot />\r\n            </span>\r\n            <p>{message}</p>\r\n          </>\r\n        )}\r\n      </li>\r\n    );\r\n    return chatLi;\r\n  };\r\n\r\n  const generateResponse = async () => {\r\n    const API_URL = \"https://api.openai.com/v1/chat/completions\";\r\n\r\n    try {\r\n      const requestOptions = {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${API_KEY}`,\r\n        },\r\n        body: JSON.stringify({\r\n          model: \"gpt-3.5-turbo\",\r\n          messages: [{ role: \"user\", content: userMessage }],\r\n        }),\r\n      };\r\n\r\n      const response = await fetch(API_URL, requestOptions);\r\n      const data = await response.json();\r\n\r\n      const responseMessage = data.choices[0].message.content.trim();\r\n      setChatMessages([...chatMessages, userMessage, responseMessage]);\r\n      setUserMessage(\"\");\r\n    } catch (error) {\r\n      console.error(\"Error generating response:\", error);\r\n    }\r\n  };\r\n\r\n  const handleChat = () => {\r\n    if (userMessage.trim() === \"\") return;\r\n\r\n    setChatMessages([...chatMessages, userMessage]);\r\n    setUserMessage(\"\");\r\n\r\n    setTimeout(() => {\r\n      setChatMessages((prevMessages) => [...prevMessages, \"Thinking...\"]);\r\n      chatboxRef.current.scrollTop = chatboxRef.current.scrollHeight;\r\n\r\n      generateResponse();\r\n    }, 600);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setUserMessage(event.target.value);\r\n  };\r\n\r\n  const handleSendMessage = () => {\r\n    handleChat();\r\n  };\r\n\r\n  const handleIconClick = () => {\r\n    // Rotate the icon by 180 degrees on each click\r\n    setRotationAngle((prevAngle) => prevAngle + 180);\r\n  };\r\n\r\n  useEffect(() => {\r\n    chatboxRef.current.scrollTop = chatboxRef.current.scrollHeight;\r\n  }, [chatMessages]);\r\n\r\n  return (\r\n    <div className=\" justify-center drop-shadow-2xl shadow-2xl items-center h-screen flex flex-col\">\r\n      <div className=\" w-[90%] md:w-[50%] bg-[#32ca65a6]     rounded-3xl\">\r\n        <header className=\"text md:text-[50px] text-[35px] rounded-t-3xl bg-[#ffffff5b] text-[white]  font-bold\">\r\n          <h2>\r\n            Coal<span className=\"text-[green]\">Rule</span>Advisor\r\n          </h2>\r\n        </header>\r\n\r\n        <ul className=\"chatbox bg-[#ffffffa8] p-5\" ref={chatboxRef}>\r\n          {chatMessages.map((message, index) => {\r\n            if (message === \"Thinking...\") {\r\n              return createChatLi(message, \"thinking\");\r\n            }\r\n            return createChatLi(\r\n              message,\r\n              index % 2 === 0 ? \"outgoing\" : \"incoming\"\r\n            );\r\n          })}\r\n        </ul>\r\n\r\n        <div className=\" flex items-center p-2 bg-[#61c48257] rounded-b-2xl justify-around\">\r\n          <textarea\r\n            className=\"w-[90%]  p-1    rounded-2xl justify-center items-center\"\r\n            placeholder=\"Enter a message...\"\r\n            spellCheck=\"false\"\r\n            required\r\n            value={userMessage}\r\n            onChange={handleChange}\r\n          ></textarea>\r\n          <span\r\n            id=\"send-btn\"\r\n            className=\"material-symbols-rounded\"\r\n            onClick={handleIconClick}\r\n          >\r\n            <AiOutlineSlack\r\n              onClick={handleSendMessage}\r\n              className={`text-[30px] transform rotate-${rotationAngle}`}\r\n            />\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}